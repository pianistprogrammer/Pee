{"remainingRequest":"/Users/pianistprogrammer/Desktop/peexoo/node_modules/babel-loader/lib/index.js!/Users/pianistprogrammer/Desktop/peexoo/node_modules/eslint-loader/index.js??ref--13-0!/Users/pianistprogrammer/Desktop/peexoo/src/assets/js/jquery.parallax.js","dependencies":[{"path":"/Users/pianistprogrammer/Desktop/peexoo/src/assets/js/jquery.parallax.js","mtime":1558417992401},{"path":"/Users/pianistprogrammer/Desktop/peexoo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pianistprogrammer/Desktop/peexoo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/pianistprogrammer/Desktop/peexoo/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.array.find\";\n\n/**\n * jQuery || Zepto Parallax Plugin\n * @author Matthew Wagerfield - @wagerfield\n * @description Creates a parallax effect between an array of layers,\n *              driving the motion from the gyroscope output of a smartdevice.\n *              If no gyroscope is available, the cursor position is used.\n */\n;\n\n(function ($, window, document, undefined) {\n  // Strict Mode\n  'use strict'; // Constants\n\n  var NAME = 'parallax';\n  var MAGIC_NUMBER = 30;\n  var DEFAULTS = {\n    relativeInput: false,\n    clipRelativeInput: false,\n    calibrationThreshold: 100,\n    calibrationDelay: 500,\n    supportDelay: 500,\n    calibrateX: false,\n    calibrateY: true,\n    invertX: true,\n    invertY: true,\n    limitX: false,\n    limitY: false,\n    scalarX: 10.0,\n    scalarY: 10.0,\n    frictionX: 0.1,\n    frictionY: 0.1,\n    originX: 0.5,\n    originY: 0.5,\n    pointerEvents: true,\n    precision: 1\n  };\n\n  function Plugin(element, options) {\n    // DOM Context\n    this.element = element; // Selections\n\n    this.$context = $(element).data('api', this);\n    this.$layers = this.$context.find('.layer'); // Data Extraction\n\n    var data = {\n      calibrateX: this.$context.data('calibrate-x') || null,\n      calibrateY: this.$context.data('calibrate-y') || null,\n      invertX: this.$context.data('invert-x') || null,\n      invertY: this.$context.data('invert-y') || null,\n      limitX: parseFloat(this.$context.data('limit-x')) || null,\n      limitY: parseFloat(this.$context.data('limit-y')) || null,\n      scalarX: parseFloat(this.$context.data('scalar-x')) || null,\n      scalarY: parseFloat(this.$context.data('scalar-y')) || null,\n      frictionX: parseFloat(this.$context.data('friction-x')) || null,\n      frictionY: parseFloat(this.$context.data('friction-y')) || null,\n      originX: parseFloat(this.$context.data('origin-x')) || null,\n      originY: parseFloat(this.$context.data('origin-y')) || null,\n      pointerEvents: this.$context.data('pointer-events') || true,\n      precision: parseFloat(this.$context.data('precision')) || 1\n    }; // Delete Null Data Values\n\n    for (var key in data) {\n      if (data[key] === null) delete data[key];\n    } // Compose Settings Object\n\n\n    $.extend(this, DEFAULTS, options, data); // States\n\n    this.calibrationTimer = null;\n    this.calibrationFlag = true;\n    this.enabled = false;\n    this.depthsX = [];\n    this.depthsY = [];\n    this.raf = null; // Element Bounds\n\n    this.bounds = null;\n    this.ex = 0;\n    this.ey = 0;\n    this.ew = 0;\n    this.eh = 0; // Element Center\n\n    this.ecx = 0;\n    this.ecy = 0; // Element Range\n\n    this.erx = 0;\n    this.ery = 0; // Calibration\n\n    this.cx = 0;\n    this.cy = 0; // Input\n\n    this.ix = 0;\n    this.iy = 0; // Motion\n\n    this.mx = 0;\n    this.my = 0; // Velocity\n\n    this.vx = 0;\n    this.vy = 0; // Callbacks\n\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onDeviceOrientation = this.onDeviceOrientation.bind(this);\n    this.onOrientationTimer = this.onOrientationTimer.bind(this);\n    this.onCalibrationTimer = this.onCalibrationTimer.bind(this);\n    this.onAnimationFrame = this.onAnimationFrame.bind(this);\n    this.onWindowResize = this.onWindowResize.bind(this); // Initialise\n\n    this.initialise();\n  }\n\n  Plugin.prototype.transformSupport = function (value) {\n    var element = document.createElement('div');\n    var propertySupport = false;\n    var propertyValue = null;\n    var featureSupport = false;\n    var cssProperty = null;\n    var jsProperty = null;\n\n    for (var i = 0, l = this.vendors.length; i < l; i++) {\n      if (this.vendors[i] !== null) {\n        cssProperty = this.vendors[i][0] + 'transform';\n        jsProperty = this.vendors[i][1] + 'Transform';\n      } else {\n        cssProperty = 'transform';\n        jsProperty = 'transform';\n      }\n\n      if (element.style[jsProperty] !== undefined) {\n        propertySupport = true;\n        break;\n      }\n    }\n\n    switch (value) {\n      case '2D':\n        featureSupport = propertySupport;\n        break;\n\n      case '3D':\n        if (propertySupport) {\n          var body = document.body || document.createElement('body');\n          var documentElement = document.documentElement;\n          var documentOverflow = documentElement.style.overflow;\n          var isCreatedBody = false;\n\n          if (!document.body) {\n            isCreatedBody = true;\n            documentElement.style.overflow = 'hidden';\n            documentElement.appendChild(body);\n            body.style.overflow = 'hidden';\n            body.style.background = '';\n          }\n\n          body.appendChild(element);\n          element.style[jsProperty] = 'translate3d(1px,1px,1px)';\n          propertyValue = window.getComputedStyle(element).getPropertyValue(cssProperty);\n          featureSupport = propertyValue !== undefined && propertyValue.length > 0 && propertyValue !== \"none\";\n          documentElement.style.overflow = documentOverflow;\n          body.removeChild(element);\n\n          if (isCreatedBody) {\n            body.removeAttribute('style');\n            body.parentNode.removeChild(body);\n          }\n        }\n\n        break;\n    }\n\n    return featureSupport;\n  };\n\n  Plugin.prototype.ww = null;\n  Plugin.prototype.wh = null;\n  Plugin.prototype.wcx = null;\n  Plugin.prototype.wcy = null;\n  Plugin.prototype.wrx = null;\n  Plugin.prototype.wry = null;\n  Plugin.prototype.portrait = null;\n  Plugin.prototype.desktop = !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);\n  Plugin.prototype.vendors = [null, ['-webkit-', 'webkit'], ['-moz-', 'Moz'], ['-o-', 'O'], ['-ms-', 'ms']];\n  Plugin.prototype.motionSupport = !!window.DeviceMotionEvent;\n  Plugin.prototype.orientationSupport = !!window.DeviceOrientationEvent;\n  Plugin.prototype.orientationStatus = 0;\n  Plugin.prototype.transform2DSupport = Plugin.prototype.transformSupport('2D');\n  Plugin.prototype.transform3DSupport = Plugin.prototype.transformSupport('3D');\n  Plugin.prototype.propertyCache = {};\n\n  Plugin.prototype.initialise = function () {\n    // Configure Styles\n    if (this.$context.css('position') === 'static') {\n      this.$context.css({\n        position: 'relative'\n      });\n    } // Pointer events\n\n\n    if (!this.pointerEvents) {\n      this.$context.css({\n        pointerEvents: 'none'\n      });\n    } // Hardware Accelerate Context\n\n\n    this.accelerate(this.$context); // Setup\n\n    this.updateLayers();\n    this.updateDimensions();\n    this.enable();\n    this.queueCalibration(this.calibrationDelay);\n  };\n\n  Plugin.prototype.updateLayers = function () {\n    // Cache Layer Elements\n    this.$layers = this.$context.find('.layer');\n    this.depthsX = [];\n    this.depthsY = []; // Configure Layer Styles\n\n    this.$layers.css({\n      position: 'absolute',\n      display: 'block',\n      left: 0,\n      top: 0\n    });\n    this.$layers.first().css({\n      position: 'relative'\n    }); // Hardware Accelerate Layers\n\n    this.accelerate(this.$layers); // Cache Depths\n\n    this.$layers.each($.proxy(function (index, element) {\n      //Graceful fallback on depth if depth-x or depth-y is absent\n      var depth = $(element).data('depth') || 0;\n      this.depthsX.push($(element).data('depth-x') || depth);\n      this.depthsY.push($(element).data('depth-y') || depth);\n    }, this));\n  };\n\n  Plugin.prototype.updateDimensions = function () {\n    this.ww = window.innerWidth;\n    this.wh = window.innerHeight;\n    this.wcx = this.ww * this.originX;\n    this.wcy = this.wh * this.originY;\n    this.wrx = Math.max(this.wcx, this.ww - this.wcx);\n    this.wry = Math.max(this.wcy, this.wh - this.wcy);\n  };\n\n  Plugin.prototype.updateBounds = function () {\n    this.bounds = this.element.getBoundingClientRect();\n    this.ex = this.bounds.left;\n    this.ey = this.bounds.top;\n    this.ew = this.bounds.width;\n    this.eh = this.bounds.height;\n    this.ecx = this.ew * this.originX;\n    this.ecy = this.eh * this.originY;\n    this.erx = Math.max(this.ecx, this.ew - this.ecx);\n    this.ery = Math.max(this.ecy, this.eh - this.ecy);\n  };\n\n  Plugin.prototype.queueCalibration = function (delay) {\n    clearTimeout(this.calibrationTimer);\n    this.calibrationTimer = setTimeout(this.onCalibrationTimer, delay);\n  };\n\n  Plugin.prototype.enable = function () {\n    if (!this.enabled) {\n      this.enabled = true;\n\n      if (this.orientationSupport) {\n        this.portrait = null;\n        window.addEventListener('deviceorientation', this.onDeviceOrientation);\n        setTimeout(this.onOrientationTimer, this.supportDelay);\n      } else {\n        this.cx = 0;\n        this.cy = 0;\n        this.portrait = false;\n        window.addEventListener('mousemove', this.onMouseMove);\n      }\n\n      window.addEventListener('resize', this.onWindowResize);\n      this.raf = requestAnimationFrame(this.onAnimationFrame);\n    }\n  };\n\n  Plugin.prototype.disable = function () {\n    if (this.enabled) {\n      this.enabled = false;\n\n      if (this.orientationSupport) {\n        window.removeEventListener('deviceorientation', this.onDeviceOrientation);\n      } else {\n        window.removeEventListener('mousemove', this.onMouseMove);\n      }\n\n      window.removeEventListener('resize', this.onWindowResize);\n      cancelAnimationFrame(this.raf);\n    }\n  };\n\n  Plugin.prototype.calibrate = function (x, y) {\n    this.calibrateX = x === undefined ? this.calibrateX : x;\n    this.calibrateY = y === undefined ? this.calibrateY : y;\n  };\n\n  Plugin.prototype.invert = function (x, y) {\n    this.invertX = x === undefined ? this.invertX : x;\n    this.invertY = y === undefined ? this.invertY : y;\n  };\n\n  Plugin.prototype.friction = function (x, y) {\n    this.frictionX = x === undefined ? this.frictionX : x;\n    this.frictionY = y === undefined ? this.frictionY : y;\n  };\n\n  Plugin.prototype.scalar = function (x, y) {\n    this.scalarX = x === undefined ? this.scalarX : x;\n    this.scalarY = y === undefined ? this.scalarY : y;\n  };\n\n  Plugin.prototype.limit = function (x, y) {\n    this.limitX = x === undefined ? this.limitX : x;\n    this.limitY = y === undefined ? this.limitY : y;\n  };\n\n  Plugin.prototype.origin = function (x, y) {\n    this.originX = x === undefined ? this.originX : x;\n    this.originY = y === undefined ? this.originY : y;\n  };\n\n  Plugin.prototype.clamp = function (value, min, max) {\n    value = Math.max(value, min);\n    value = Math.min(value, max);\n    return value;\n  };\n\n  Plugin.prototype.css = function (element, property, value) {\n    var jsProperty = this.propertyCache[property];\n\n    if (!jsProperty) {\n      for (var i = 0, l = this.vendors.length; i < l; i++) {\n        if (this.vendors[i] !== null) {\n          jsProperty = $.camelCase(this.vendors[i][1] + '-' + property);\n        } else {\n          jsProperty = property;\n        }\n\n        if (element.style[jsProperty] !== undefined) {\n          this.propertyCache[property] = jsProperty;\n          break;\n        }\n      }\n    }\n\n    element.style[jsProperty] = value;\n  };\n\n  Plugin.prototype.accelerate = function ($element) {\n    for (var i = 0, l = $element.length; i < l; i++) {\n      var element = $element[i];\n      this.css(element, 'transform', 'translate3d(0,0,0)');\n      this.css(element, 'transform-style', 'preserve-3d');\n      this.css(element, 'backface-visibility', 'hidden');\n    }\n  };\n\n  Plugin.prototype.setPosition = function (element, x, y) {\n    x += 'px';\n    y += 'px';\n\n    if (this.transform3DSupport) {\n      this.css(element, 'transform', 'translate3d(' + x + ',' + y + ',0)');\n    } else if (this.transform2DSupport) {\n      this.css(element, 'transform', 'translate(' + x + ',' + y + ')');\n    } else {\n      element.style.left = x;\n      element.style.top = y;\n    }\n  };\n\n  Plugin.prototype.onOrientationTimer = function (event) {\n    if (this.orientationSupport && this.orientationStatus === 0) {\n      this.disable();\n      this.orientationSupport = false;\n      this.enable();\n    }\n  };\n\n  Plugin.prototype.onCalibrationTimer = function (event) {\n    this.calibrationFlag = true;\n  };\n\n  Plugin.prototype.onWindowResize = function (event) {\n    this.updateDimensions();\n  };\n\n  Plugin.prototype.onAnimationFrame = function () {\n    this.updateBounds();\n    var dx = this.ix - this.cx;\n    var dy = this.iy - this.cy;\n\n    if (Math.abs(dx) > this.calibrationThreshold || Math.abs(dy) > this.calibrationThreshold) {\n      this.queueCalibration(0);\n    }\n\n    if (this.portrait) {\n      this.mx = this.calibrateX ? dy : this.iy;\n      this.my = this.calibrateY ? dx : this.ix;\n    } else {\n      this.mx = this.calibrateX ? dx : this.ix;\n      this.my = this.calibrateY ? dy : this.iy;\n    }\n\n    this.mx *= this.ew * (this.scalarX / 100);\n    this.my *= this.eh * (this.scalarY / 100);\n\n    if (!isNaN(parseFloat(this.limitX))) {\n      this.mx = this.clamp(this.mx, -this.limitX, this.limitX);\n    }\n\n    if (!isNaN(parseFloat(this.limitY))) {\n      this.my = this.clamp(this.my, -this.limitY, this.limitY);\n    }\n\n    this.vx += (this.mx - this.vx) * this.frictionX;\n    this.vy += (this.my - this.vy) * this.frictionY;\n\n    for (var i = 0, l = this.$layers.length; i < l; i++) {\n      var depthX = this.depthsX[i];\n      var depthY = this.depthsY[i];\n      var layer = this.$layers[i];\n      var xOffset = this.vx * (depthX * (this.invertX ? -1 : 1));\n      var yOffset = this.vy * (depthY * (this.invertY ? -1 : 1));\n      this.setPosition(layer, xOffset, yOffset);\n    }\n\n    this.raf = requestAnimationFrame(this.onAnimationFrame);\n  };\n\n  Plugin.prototype.onDeviceOrientation = function (event) {\n    // Validate environment and event properties.\n    if (!this.desktop && event.beta !== null && event.gamma !== null) {\n      // Set orientation status.\n      this.orientationStatus = 1; // Extract Rotation\n\n      var x = (event.beta || 0) / MAGIC_NUMBER; //  -90 :: 90\n\n      var y = (event.gamma || 0) / MAGIC_NUMBER; // -180 :: 180\n      // Detect Orientation Change\n\n      var portrait = window.innerHeight > window.innerWidth;\n\n      if (this.portrait !== portrait) {\n        this.portrait = portrait;\n        this.calibrationFlag = true;\n      } // Set Calibration\n\n\n      if (this.calibrationFlag) {\n        this.calibrationFlag = false;\n        this.cx = x;\n        this.cy = y;\n      } // Set Input\n\n\n      this.ix = x;\n      this.iy = y;\n    }\n  };\n\n  Plugin.prototype.onMouseMove = function (event) {\n    // Cache mouse coordinates.\n    var clientX = event.clientX;\n    var clientY = event.clientY; // Calculate Mouse Input\n\n    if (!this.orientationSupport && this.relativeInput) {\n      // Clip mouse coordinates inside element bounds.\n      if (this.clipRelativeInput) {\n        clientX = Math.max(clientX, this.ex);\n        clientX = Math.min(clientX, this.ex + this.ew);\n        clientY = Math.max(clientY, this.ey);\n        clientY = Math.min(clientY, this.ey + this.eh);\n      } // Calculate input relative to the element.\n\n\n      this.ix = (clientX - this.ex - this.ecx) / this.erx;\n      this.iy = (clientY - this.ey - this.ecy) / this.ery;\n    } else {\n      // Calculate input relative to the window.\n      this.ix = (clientX - this.wcx) / this.wrx;\n      this.iy = (clientY - this.wcy) / this.wry;\n    }\n  };\n\n  var API = {\n    enable: Plugin.prototype.enable,\n    disable: Plugin.prototype.disable,\n    updateLayers: Plugin.prototype.updateLayers,\n    calibrate: Plugin.prototype.calibrate,\n    friction: Plugin.prototype.friction,\n    invert: Plugin.prototype.invert,\n    scalar: Plugin.prototype.scalar,\n    limit: Plugin.prototype.limit,\n    origin: Plugin.prototype.origin\n  };\n\n  $.fn[NAME] = function (value) {\n    var args = arguments;\n    return this.each(function () {\n      var $this = $(this);\n      var plugin = $this.data(NAME);\n\n      if (!plugin) {\n        plugin = new Plugin(this, value);\n        $this.data(NAME, plugin);\n      }\n\n      if (API[value]) {\n        plugin[value].apply(plugin, Array.prototype.slice.call(args, 1));\n      }\n    });\n  };\n})(window.jQuery || window.Zepto, window, document);",{"version":3,"sources":["/Users/pianistprogrammer/Desktop/peexoo/src/assets/js/jquery.parallax.js"],"names":["$","window","document","undefined","NAME","MAGIC_NUMBER","DEFAULTS","relativeInput","clipRelativeInput","calibrationThreshold","calibrationDelay","supportDelay","calibrateX","calibrateY","invertX","invertY","limitX","limitY","scalarX","scalarY","frictionX","frictionY","originX","originY","pointerEvents","precision","Plugin","element","options","$context","data","$layers","find","parseFloat","key","extend","calibrationTimer","calibrationFlag","enabled","depthsX","depthsY","raf","bounds","ex","ey","ew","eh","ecx","ecy","erx","ery","cx","cy","ix","iy","mx","my","vx","vy","onMouseMove","bind","onDeviceOrientation","onOrientationTimer","onCalibrationTimer","onAnimationFrame","onWindowResize","initialise","prototype","transformSupport","value","createElement","propertySupport","propertyValue","featureSupport","cssProperty","jsProperty","i","l","vendors","length","style","body","documentElement","documentOverflow","overflow","isCreatedBody","appendChild","background","getComputedStyle","getPropertyValue","removeChild","removeAttribute","parentNode","ww","wh","wcx","wcy","wrx","wry","portrait","desktop","navigator","userAgent","match","motionSupport","DeviceMotionEvent","orientationSupport","DeviceOrientationEvent","orientationStatus","transform2DSupport","transform3DSupport","propertyCache","css","position","accelerate","updateLayers","updateDimensions","enable","queueCalibration","display","left","top","first","each","proxy","index","depth","push","innerWidth","innerHeight","Math","max","updateBounds","getBoundingClientRect","width","height","delay","clearTimeout","setTimeout","addEventListener","requestAnimationFrame","disable","removeEventListener","cancelAnimationFrame","calibrate","x","y","invert","friction","scalar","limit","origin","clamp","min","property","camelCase","$element","setPosition","event","dx","dy","abs","isNaN","depthX","depthY","layer","xOffset","yOffset","beta","gamma","clientX","clientY","API","fn","args","arguments","$this","plugin","apply","Array","slice","call","jQuery","Zepto"],"mappings":"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","sourcesContent":["/**\n * jQuery || Zepto Parallax Plugin\n * @author Matthew Wagerfield - @wagerfield\n * @description Creates a parallax effect between an array of layers,\n *              driving the motion from the gyroscope output of a smartdevice.\n *              If no gyroscope is available, the cursor position is used.\n */\n;(function($, window, document, undefined) {\n\n  // Strict Mode\n  'use strict';\n\n  // Constants\n  var NAME = 'parallax';\n  var MAGIC_NUMBER = 30;\n  var DEFAULTS = {\n    relativeInput: false,\n    clipRelativeInput: false,\n    calibrationThreshold: 100,\n    calibrationDelay: 500,\n    supportDelay: 500,\n    calibrateX: false,\n    calibrateY: true,\n    invertX: true,\n    invertY: true,\n    limitX: false,\n    limitY: false,\n    scalarX: 10.0,\n    scalarY: 10.0,\n    frictionX: 0.1,\n    frictionY: 0.1,\n    originX: 0.5,\n    originY: 0.5,\n    pointerEvents: true,\n    precision: 1\n  };\n\n  function Plugin(element, options) {\n\n    // DOM Context\n    this.element = element;\n\n    // Selections\n    this.$context = $(element).data('api', this);\n    this.$layers = this.$context.find('.layer');\n\n    // Data Extraction\n    var data = {\n      calibrateX: this.$context.data('calibrate-x') || null,\n      calibrateY: this.$context.data('calibrate-y') || null,\n      invertX: this.$context.data('invert-x') || null,\n      invertY: this.$context.data('invert-y') || null,\n      limitX: parseFloat(this.$context.data('limit-x')) || null,\n      limitY: parseFloat(this.$context.data('limit-y')) || null,\n      scalarX: parseFloat(this.$context.data('scalar-x')) || null,\n      scalarY: parseFloat(this.$context.data('scalar-y')) || null,\n      frictionX: parseFloat(this.$context.data('friction-x')) || null,\n      frictionY: parseFloat(this.$context.data('friction-y')) || null,\n      originX: parseFloat(this.$context.data('origin-x')) || null,\n      originY: parseFloat(this.$context.data('origin-y')) || null,\n      pointerEvents: this.$context.data('pointer-events') || true,\n      precision: parseFloat(this.$context.data('precision')) || 1\n    };\n\n    // Delete Null Data Values\n    for (var key in data) {\n      if (data[key] === null) delete data[key];\n    }\n\n    // Compose Settings Object\n    $.extend(this, DEFAULTS, options, data);\n\n    // States\n    this.calibrationTimer = null;\n    this.calibrationFlag = true;\n    this.enabled = false;\n    this.depthsX = [];\n    this.depthsY = [];\n    this.raf = null;\n\n    // Element Bounds\n    this.bounds = null;\n    this.ex = 0;\n    this.ey = 0;\n    this.ew = 0;\n    this.eh = 0;\n\n    // Element Center\n    this.ecx = 0;\n    this.ecy = 0;\n\n    // Element Range\n    this.erx = 0;\n    this.ery = 0;\n\n    // Calibration\n    this.cx = 0;\n    this.cy = 0;\n\n    // Input\n    this.ix = 0;\n    this.iy = 0;\n\n    // Motion\n    this.mx = 0;\n    this.my = 0;\n\n    // Velocity\n    this.vx = 0;\n    this.vy = 0;\n\n    // Callbacks\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onDeviceOrientation = this.onDeviceOrientation.bind(this);\n    this.onOrientationTimer = this.onOrientationTimer.bind(this);\n    this.onCalibrationTimer = this.onCalibrationTimer.bind(this);\n    this.onAnimationFrame = this.onAnimationFrame.bind(this);\n    this.onWindowResize = this.onWindowResize.bind(this);\n\n    // Initialise\n    this.initialise();\n  }\n\n  Plugin.prototype.transformSupport = function(value) {\n    var element = document.createElement('div');\n    var propertySupport = false;\n    var propertyValue = null;\n    var featureSupport = false;\n    var cssProperty = null;\n    var jsProperty = null;\n    for (var i = 0, l = this.vendors.length; i < l; i++) {\n      if (this.vendors[i] !== null) {\n        cssProperty = this.vendors[i][0] + 'transform';\n        jsProperty = this.vendors[i][1] + 'Transform';\n      } else {\n        cssProperty = 'transform';\n        jsProperty = 'transform';\n      }\n      if (element.style[jsProperty] !== undefined) {\n        propertySupport = true;\n        break;\n      }\n    }\n    switch(value) {\n      case '2D':\n        featureSupport = propertySupport;\n        break;\n      case '3D':\n        if (propertySupport) {\n          var body = document.body || document.createElement('body');\n          var documentElement = document.documentElement;\n          var documentOverflow = documentElement.style.overflow;\n          var isCreatedBody = false;\n          if (!document.body) {\n            isCreatedBody = true;\n            documentElement.style.overflow = 'hidden';\n            documentElement.appendChild(body);\n            body.style.overflow = 'hidden';\n            body.style.background = '';\n          }\n          body.appendChild(element);\n          element.style[jsProperty] = 'translate3d(1px,1px,1px)';\n          propertyValue = window.getComputedStyle(element).getPropertyValue(cssProperty);\n          featureSupport = propertyValue !== undefined && propertyValue.length > 0 && propertyValue !== \"none\";\n          documentElement.style.overflow = documentOverflow;\n          body.removeChild(element);\n          if ( isCreatedBody ) {\n            body.removeAttribute('style');\n            body.parentNode.removeChild(body);\n          }\n        }\n        break;\n    }\n    return featureSupport;\n  };\n\n  Plugin.prototype.ww = null;\n  Plugin.prototype.wh = null;\n  Plugin.prototype.wcx = null;\n  Plugin.prototype.wcy = null;\n  Plugin.prototype.wrx = null;\n  Plugin.prototype.wry = null;\n  Plugin.prototype.portrait = null;\n  Plugin.prototype.desktop = !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);\n  Plugin.prototype.vendors = [null,['-webkit-','webkit'],['-moz-','Moz'],['-o-','O'],['-ms-','ms']];\n  Plugin.prototype.motionSupport = !!window.DeviceMotionEvent;\n  Plugin.prototype.orientationSupport = !!window.DeviceOrientationEvent;\n  Plugin.prototype.orientationStatus = 0;\n  Plugin.prototype.transform2DSupport = Plugin.prototype.transformSupport('2D');\n  Plugin.prototype.transform3DSupport = Plugin.prototype.transformSupport('3D');\n  Plugin.prototype.propertyCache = {};\n\n  Plugin.prototype.initialise = function() {\n\n    // Configure Styles\n    if (this.$context.css('position') === 'static') {\n      this.$context.css({\n        position:'relative'\n      });\n    }\n\n    // Pointer events\n    if(!this.pointerEvents){\n      this.$context.css({\n        pointerEvents: 'none'\n      });\n    }\n\n    // Hardware Accelerate Context\n    this.accelerate(this.$context);\n\n    // Setup\n    this.updateLayers();\n    this.updateDimensions();\n    this.enable();\n    this.queueCalibration(this.calibrationDelay);\n  };\n\n  Plugin.prototype.updateLayers = function() {\n\n    // Cache Layer Elements\n    this.$layers = this.$context.find('.layer');\n    this.depthsX = [];\n    this.depthsY = [];\n\n    // Configure Layer Styles\n    this.$layers.css({\n      position:'absolute',\n      display:'block',\n      left: 0,\n      top: 0\n    });\n    this.$layers.first().css({\n      position:'relative'\n    });\n\n    // Hardware Accelerate Layers\n    this.accelerate(this.$layers);\n\n    // Cache Depths\n    this.$layers.each($.proxy(function(index, element) {\n      //Graceful fallback on depth if depth-x or depth-y is absent\n      var depth = $(element).data('depth') || 0;\n      this.depthsX.push($(element).data('depth-x') || depth);\n      this.depthsY.push($(element).data('depth-y') || depth);\n    }, this));\n  };\n\n  Plugin.prototype.updateDimensions = function() {\n    this.ww = window.innerWidth;\n    this.wh = window.innerHeight;\n    this.wcx = this.ww * this.originX;\n    this.wcy = this.wh * this.originY;\n    this.wrx = Math.max(this.wcx, this.ww - this.wcx);\n    this.wry = Math.max(this.wcy, this.wh - this.wcy);\n  };\n\n  Plugin.prototype.updateBounds = function() {\n    this.bounds = this.element.getBoundingClientRect();\n    this.ex = this.bounds.left;\n    this.ey = this.bounds.top;\n    this.ew = this.bounds.width;\n    this.eh = this.bounds.height;\n    this.ecx = this.ew * this.originX;\n    this.ecy = this.eh * this.originY;\n    this.erx = Math.max(this.ecx, this.ew - this.ecx);\n    this.ery = Math.max(this.ecy, this.eh - this.ecy);\n  };\n\n  Plugin.prototype.queueCalibration = function(delay) {\n    clearTimeout(this.calibrationTimer);\n    this.calibrationTimer = setTimeout(this.onCalibrationTimer, delay);\n  };\n\n  Plugin.prototype.enable = function() {\n    if (!this.enabled) {\n      this.enabled = true;\n      if (this.orientationSupport) {\n        this.portrait = null;\n        window.addEventListener('deviceorientation', this.onDeviceOrientation);\n        setTimeout(this.onOrientationTimer, this.supportDelay);\n      } else {\n        this.cx = 0;\n        this.cy = 0;\n        this.portrait = false;\n        window.addEventListener('mousemove', this.onMouseMove);\n      }\n      window.addEventListener('resize', this.onWindowResize);\n      this.raf = requestAnimationFrame(this.onAnimationFrame);\n    }\n  };\n\n  Plugin.prototype.disable = function() {\n    if (this.enabled) {\n      this.enabled = false;\n      if (this.orientationSupport) {\n        window.removeEventListener('deviceorientation', this.onDeviceOrientation);\n      } else {\n        window.removeEventListener('mousemove', this.onMouseMove);\n      }\n      window.removeEventListener('resize', this.onWindowResize);\n      cancelAnimationFrame(this.raf);\n    }\n  };\n\n  Plugin.prototype.calibrate = function(x, y) {\n    this.calibrateX = x === undefined ? this.calibrateX : x;\n    this.calibrateY = y === undefined ? this.calibrateY : y;\n  };\n\n  Plugin.prototype.invert = function(x, y) {\n    this.invertX = x === undefined ? this.invertX : x;\n    this.invertY = y === undefined ? this.invertY : y;\n  };\n\n  Plugin.prototype.friction = function(x, y) {\n    this.frictionX = x === undefined ? this.frictionX : x;\n    this.frictionY = y === undefined ? this.frictionY : y;\n  };\n\n  Plugin.prototype.scalar = function(x, y) {\n    this.scalarX = x === undefined ? this.scalarX : x;\n    this.scalarY = y === undefined ? this.scalarY : y;\n  };\n\n  Plugin.prototype.limit = function(x, y) {\n    this.limitX = x === undefined ? this.limitX : x;\n    this.limitY = y === undefined ? this.limitY : y;\n  };\n\n  Plugin.prototype.origin = function(x, y) {\n    this.originX = x === undefined ? this.originX : x;\n    this.originY = y === undefined ? this.originY : y;\n  };\n\n  Plugin.prototype.clamp = function(value, min, max) {\n    value = Math.max(value, min);\n    value = Math.min(value, max);\n    return value;\n  };\n\n  Plugin.prototype.css = function(element, property, value) {\n    var jsProperty = this.propertyCache[property];\n    if (!jsProperty) {\n      for (var i = 0, l = this.vendors.length; i < l; i++) {\n        if (this.vendors[i] !== null) {\n          jsProperty = $.camelCase(this.vendors[i][1] + '-' + property);\n        } else {\n          jsProperty = property;\n        }\n        if (element.style[jsProperty] !== undefined) {\n          this.propertyCache[property] = jsProperty;\n          break;\n        }\n      }\n    }\n    element.style[jsProperty] = value;\n  };\n\n  Plugin.prototype.accelerate = function($element) {\n    for (var i = 0, l = $element.length; i < l; i++) {\n      var element = $element[i];\n      this.css(element, 'transform', 'translate3d(0,0,0)');\n      this.css(element, 'transform-style', 'preserve-3d');\n      this.css(element, 'backface-visibility', 'hidden');\n    }\n  };\n\n  Plugin.prototype.setPosition = function(element, x, y) {\n    x += 'px';\n    y += 'px';\n    if (this.transform3DSupport) {\n      this.css(element, 'transform', 'translate3d('+x+','+y+',0)');\n    } else if (this.transform2DSupport) {\n      this.css(element, 'transform', 'translate('+x+','+y+')');\n    } else {\n      element.style.left = x;\n      element.style.top = y;\n    }\n  };\n\n  Plugin.prototype.onOrientationTimer = function(event) {\n    if (this.orientationSupport && this.orientationStatus === 0) {\n      this.disable();\n      this.orientationSupport = false;\n      this.enable();\n    }\n  };\n\n  Plugin.prototype.onCalibrationTimer = function(event) {\n    this.calibrationFlag = true;\n  };\n\n  Plugin.prototype.onWindowResize = function(event) {\n    this.updateDimensions();\n  };\n\n  Plugin.prototype.onAnimationFrame = function() {\n    this.updateBounds();\n    var dx = this.ix - this.cx;\n    var dy = this.iy - this.cy;\n    if ((Math.abs(dx) > this.calibrationThreshold) || (Math.abs(dy) > this.calibrationThreshold)) {\n      this.queueCalibration(0);\n    }\n    if (this.portrait) {\n      this.mx = this.calibrateX ? dy : this.iy;\n      this.my = this.calibrateY ? dx : this.ix;\n    } else {\n      this.mx = this.calibrateX ? dx : this.ix;\n      this.my = this.calibrateY ? dy : this.iy;\n    }\n    this.mx *= this.ew * (this.scalarX / 100);\n    this.my *= this.eh * (this.scalarY / 100);\n    if (!isNaN(parseFloat(this.limitX))) {\n      this.mx = this.clamp(this.mx, -this.limitX, this.limitX);\n    }\n    if (!isNaN(parseFloat(this.limitY))) {\n      this.my = this.clamp(this.my, -this.limitY, this.limitY);\n    }\n    this.vx += (this.mx - this.vx) * this.frictionX;\n    this.vy += (this.my - this.vy) * this.frictionY;\n    for (var i = 0, l = this.$layers.length; i < l; i++) {\n      var depthX = this.depthsX[i];\n      var depthY = this.depthsY[i];\n      var layer = this.$layers[i];\n      var xOffset = this.vx * (depthX * (this.invertX ? -1 : 1));\n      var yOffset = this.vy * (depthY * (this.invertY ? -1 : 1));\n      this.setPosition(layer, xOffset, yOffset);\n    }\n    this.raf = requestAnimationFrame(this.onAnimationFrame);\n  };\n\n  Plugin.prototype.onDeviceOrientation = function(event) {\n\n    // Validate environment and event properties.\n    if (!this.desktop && event.beta !== null && event.gamma !== null) {\n\n      // Set orientation status.\n      this.orientationStatus = 1;\n\n      // Extract Rotation\n      var x = (event.beta  || 0) / MAGIC_NUMBER; //  -90 :: 90\n      var y = (event.gamma || 0) / MAGIC_NUMBER; // -180 :: 180\n\n      // Detect Orientation Change\n      var portrait = window.innerHeight > window.innerWidth;\n      if (this.portrait !== portrait) {\n        this.portrait = portrait;\n        this.calibrationFlag = true;\n      }\n\n      // Set Calibration\n      if (this.calibrationFlag) {\n        this.calibrationFlag = false;\n        this.cx = x;\n        this.cy = y;\n      }\n\n      // Set Input\n      this.ix = x;\n      this.iy = y;\n    }\n  };\n\n  Plugin.prototype.onMouseMove = function(event) {\n\n    // Cache mouse coordinates.\n    var clientX = event.clientX;\n    var clientY = event.clientY;\n\n    // Calculate Mouse Input\n    if (!this.orientationSupport && this.relativeInput) {\n\n      // Clip mouse coordinates inside element bounds.\n      if (this.clipRelativeInput) {\n        clientX = Math.max(clientX, this.ex);\n        clientX = Math.min(clientX, this.ex + this.ew);\n        clientY = Math.max(clientY, this.ey);\n        clientY = Math.min(clientY, this.ey + this.eh);\n      }\n\n      // Calculate input relative to the element.\n      this.ix = (clientX - this.ex - this.ecx) / this.erx;\n      this.iy = (clientY - this.ey - this.ecy) / this.ery;\n\n    } else {\n\n      // Calculate input relative to the window.\n      this.ix = (clientX - this.wcx) / this.wrx;\n      this.iy = (clientY - this.wcy) / this.wry;\n    }\n  };\n\n  var API = {\n    enable: Plugin.prototype.enable,\n    disable: Plugin.prototype.disable,\n    updateLayers: Plugin.prototype.updateLayers,\n    calibrate: Plugin.prototype.calibrate,\n    friction: Plugin.prototype.friction,\n    invert: Plugin.prototype.invert,\n    scalar: Plugin.prototype.scalar,\n    limit: Plugin.prototype.limit,\n    origin: Plugin.prototype.origin\n  };\n\n  $.fn[NAME] = function (value) {\n    var args = arguments;\n    return this.each(function () {\n      var $this = $(this);\n      var plugin = $this.data(NAME);\n      if (!plugin) {\n        plugin = new Plugin(this, value);\n        $this.data(NAME, plugin);\n      }\n      if (API[value]) {\n        plugin[value].apply(plugin, Array.prototype.slice.call(args, 1));\n      }\n    });\n  };\n\n})(window.jQuery || window.Zepto, window, document);\n"]}]}